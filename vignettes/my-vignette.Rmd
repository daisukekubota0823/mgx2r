---
title: "Vignette MorphoGraphX2R"
author: "Marion Louveaux"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEncoding{UTF-8}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---

## Vignette Info

```{r lib}
library(magrittr)
```


All .ply demonstration data are stored in /inst/extdata.
```{r allData}
dirData <- "/Users/mlouveaux/Documents/Postdoc/Projects/MGX-R bridge/MorphoGraphX2R/inst/extdata/"
```

We select one .ply as example.
```{r myData}
dirPly <- "2017-02-15_ply_files"

filePly <- paste0(dirData, dirPly, "/test4.ply")
fileCellGraph <- paste0(dirData, dirPly, "/test4_cellGraph.ply")

```


Note from 2017-12-26: read_ply_function is clean. I need now to test it on numerous meshes to make it as general as possible.
2017-12-28: read_cellGraph looks clean as well. I need to extract the dataframes from edges and vertices properties.



```{r readPly}
myMesh <- MorphoGraphX2R::modified_read.ply(file = filePly, ShowSpecimen = TRUE, addNormals = TRUE,
                               MatCol= 1, header_max = 30,
                               my_colors = c("#800000", "#FF0000", "#808000", "#FFFF00",
                                             "#008000", "#00FF00", "#008080", "#00FFFF",
                                             "#000080", "#0000FF", "#800080", "#FF00FF"))
```

To change mesh color and display the new color:
```{r modifColor, eval=FALSE}
myMesh$material$color <- myMesh$allColors$Col_signal
#rgl::shade3d(myMesh)
```

Information relative to cells and cell walls (resp. vertices and edges of the cell graph) are stored into two dataframes and combined into a list:
```{r readCellGraph, eval=FALSE}
myCellGraph <- MorphoGraphX2R::modified_read.cellGraph(fileCellGraph = fileCellGraph, header_max = 30)
```



